<div id="main">
  <div class="content">
    <div class="content-body">
      <div style="flex: 2; background-color: white">
        <div class="active-tournaments">
          <div>
            <span>Active Tournaments</span>
            <div class="pull-right">
              <a class="ssk-link small" ui-sref="tournament">All Tournaments</a>
            </div>
          </div>
          <div class="tournament-row">
            <div class="tournament-box lead padding cursor"
                 ng-repeat="activeTournament in $ctrl.activeTournaments"
                 ng-click="$ctrl.setSelectedTournament(activeTournament)">
              <div class="tournament" ng-class="{'selected-tournament': $ctrl.selectedTournamentId === activeTournament._id}"
                   ng-bind="activeTournament.name"></div>
            </div>
            <div class="tournament-box">
              <a class="ssk-link" ui-sref="new-tournament">
                <btn class="btn btn-circle ssk-btn-transparent">
                  <i class="fa fa-plus" aria-hidden="true"></i>
                </btn>
                <div class="small">Create New</div>
              </a>
            </div>
          </div>
        </div>
        <div class="active-matches">
          <div class="active-match-action-bar">
            <span>Matches</span>
            <div class="pull-right">
              <a class="ssk-link small" ui-sref="tournament-detail({tournamentId: $ctrl.selectedTournamentId})">All Matches</a>
            </div>
          </div>
          <table class="table">
            <tbody>
            <tr ng-if="$ctrl.matches.length === 0">
              <td colspan="100%">No matches played.</td>
            </tr>
            <tr ng-repeat="match in $ctrl.matches | orderBy: 'createdAt':true">
              <td>
                <i class="fa fa-trophy" aria-hidden="true"></i>
                <strong ng-bind="$ctrl.tournamentPlayersById[match['match-results'][0].tournamentPlayerId].name"></strong>
                <span>vs.</span>
                <span ng-bind="$ctrl.tournamentPlayersById[match['match-results'][1].tournamentPlayerId].name"></span>
              </td>
              <td>
                <strong>
                  + <span ng-bind="match['match-results'][0].scoreDelta"></span>
                </strong>
              </td>
              <td><span ng-bind="match['match-results'][1].scoreDelta"></span></td>
              <td ng-bind="match.createdAt | date:'mediumDate'"></td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="active-stats-bg" style="flex: 1; background-color: white">
        <div class="active-stats"></div>
      </div>
    </div>
  </div>
</div>
